
@{
    ViewBag.Title = "Listado Transacciones";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var cuentas = ViewData["Cuentas"] as List<DS.Motel.Clients.Web.Models.DropdownListViewModel>;
}

<script type="text/javascript">

    $(document).ready(function () {
        $("#divReportArea").load('@Url.Action("RefreshListadoTransacciones", "Reporte", new { area = "Reportes" })?cuentaId=@Guid.Empty');

        $("#btn-add").click(function () {
            var cuentaId = $("#CuentaId").val();
            $("#divReportArea").load('@Url.Action("RefreshListadoTransacciones", "Reporte", new { area = "Reportes" })?cuentaId=' + cuentaId);
        });
    });

</script>
<div class="row">
    <div class="col-md-12">
        <h1 style="margin:15px;">Transacciones Bancarias</h1>
    </div>
</div>

<div class="col-md-12">
    <div class="box box-default">
        <div class="box-header with-border">
            <div class="row form-group">
                <div class="col-md-3">
                    <label>Cuenta</label>
                    @Html.DropDownList("CuentaId",  new SelectList(@cuentas, "Id", "Nombre"), new { @class = "form-control", tabindex = "1" })
                </div>
                <div class="col-md-9">
                    <button type="button" id="btn-add" class="btn btn-success pull-right" style="margin-top:24px;">Generar</button>
                </div>
            </div>
        </div>
        <div class="box-body">
            <div class="row">
                <div class="col-md-12">
                    <div id="divReportArea"></div>
                </div>
            </div>
        </div>
    </div>
</div>